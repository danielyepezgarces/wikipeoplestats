<?php
// languages.php

// Available languages
$languages = [
    ['code' => 'all', 'name' => 'All Wikipedias', 'flag' => 'ðŸŒ', 'date_format' => 'l, F j, Y', 'wiki' => 'globalwiki', 'creation_date' => '2001-01-15', 'text_direction' => 'ltr'],
    ['code' => 'af', 'name' => 'Afrikaans', 'flag' => 'ðŸ‡¿ðŸ‡¦', 'date_format' => 'l, j F Y', 'wiki' => 'afwiki', 'creation_date' => '2001-10-16', 'text_direction' => 'ltr'],
    ['code' => 'ar', 'name' => 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', 'flag' => 'ðŸ‡¸ðŸ‡¦', 'date_format' => 'D, j F Y', 'wiki' => 'arwiki', 'creation_date' => '2003-07-11', 'text_direction' => 'rtl'],
    ['code' => 'ca', 'name' => 'CatalÃ ', 'flag' => 'ðŸ‡ªðŸ‡¸', 'date_format' => 'l, j \d\e F \d\e Y', 'wiki' => 'cawiki', 'creation_date' => '2001-03-28', 'text_direction' => 'ltr'],
    ['code' => 'ce', 'name' => 'ÐÐ¾Ñ…Ñ‡Ð¸Ð¹Ð½', 'flag' => 'ðŸ‡¦ðŸ‡²', 'date_format' => 'd. MMMM Y', 'wiki' => 'cewiki', 'creation_date' => '2006-03-29', 'text_direction' => 'ltr'],
    ['code' => 'cs', 'name' => 'ÄŒeÅ¡tina', 'flag' => 'ðŸ‡¨ðŸ‡¿', 'date_format' => 'd. m. Y', 'wiki' => 'cswiki', 'creation_date' => '2002-05-03', 'text_direction' => 'ltr'],
    ['code' => 'de', 'name' => 'Deutsch', 'flag' => 'ðŸ‡©ðŸ‡ª', 'date_format' => 'l, j. F Y', 'wiki' => 'dewiki', 'creation_date' => '2001-03-16', 'text_direction' => 'ltr'],
    ['code' => 'en', 'name' => 'English', 'flag' => 'ðŸ‡¬ðŸ‡§', 'date_format' => 'l, F j, Y', 'wiki' => 'enwiki', 'creation_date' => '2001-01-15', 'text_direction' => 'ltr'],
    ['code' => 'es', 'name' => 'EspaÃ±ol', 'flag' => 'ðŸ‡ªðŸ‡¸', 'date_format' => 'l, j \d\e F \d\e Y', 'wiki' => 'eswiki', 'creation_date' => '2001-05-20', 'text_direction' => 'ltr'],
    ['code' => 'fi', 'name' => 'Suomi', 'flag' => 'ðŸ‡«ðŸ‡®', 'date_format' => 'l, j. F Y', 'wiki' => 'fiwiki', 'creation_date' => '2003-05-06', 'text_direction' => 'ltr'],
    ['code' => 'fr', 'name' => 'FranÃ§ais', 'flag' => 'ðŸ‡«ðŸ‡·', 'date_format' => 'l j F Y', 'wiki' => 'frwiki', 'creation_date' => '2001-03-23', 'text_direction' => 'ltr'],
    ['code' => 'id', 'name' => 'Bahasa Indonesia', 'flag' => 'ðŸ‡®ðŸ‡©', 'date_format' => 'd F Y', 'wiki' => 'idwiki', 'creation_date' => '2003-05-30', 'text_direction' => 'ltr'],
    ['code' => 'it', 'name' => 'Italiano', 'flag' => 'ðŸ‡®ðŸ‡¹', 'date_format' => 'l j F Y', 'wiki' => 'itwiki', 'creation_date' => '2001-05-10', 'text_direction' => 'ltr'],
    ['code' => 'ko', 'name' => 'í•œêµ­ì–´', 'flag' => 'ðŸ‡°ðŸ‡·', 'date_format' => 'YYYYë…„ Mì›” Dì¼ (ddd)', 'wiki' => 'kowiki', 'creation_date' => '2002-06-30', 'text_direction' => 'ltr'],
    ['code' => 'ja', 'name' => 'æ—¥æœ¬èªž', 'flag' => 'ðŸ‡¯ðŸ‡µ', 'date_format' => 'Yå¹´næœˆjæ—¥(l)', 'wiki' => 'jawiki', 'creation_date' => '2001-05-11', 'text_direction' => 'ltr'],
    ['code' => 'nl', 'name' => 'Nederlands', 'flag' => 'ðŸ‡³ðŸ‡±', 'date_format' => 'l j F Y', 'wiki' => 'nlwiki', 'creation_date' => '2001-06-19', 'text_direction' => 'ltr'],
    ['code' => 'no', 'name' => 'Norsk', 'flag' => 'ðŸ‡³ðŸ‡´', 'date_format' => 'l j. F Y', 'wiki' => 'nowiki', 'creation_date' => '2001-10-26', 'text_direction' => 'ltr'],
    ['code' => 'pl', 'name' => 'Polski', 'flag' => 'ðŸ‡µðŸ‡±', 'date_format' => 'l j F Y', 'wiki' => 'plwiki', 'creation_date' => '2001-09-26', 'text_direction' => 'ltr'],
    ['code' => 'pt', 'name' => 'PortuguÃªs', 'flag' => 'ðŸ‡µðŸ‡¹', 'date_format' => 'l, j \d\e F \d\e Y', 'wiki' => 'ptwiki', 'creation_date' => '2001-05-11', 'text_direction' => 'ltr'],
    ['code' => 'ru', 'name' => 'Ð ÑƒÑÑÐºÐ¸Ð¹', 'flag' => 'ðŸ‡·ðŸ‡º', 'date_format' => 'l, j F Y', 'wiki' => 'ruwiki', 'creation_date' => '2001-05-20', 'text_direction' => 'ltr'],
    ['code' => 'sr', 'name' => 'Ð¡Ñ€Ð¿ÑÐºÐ¸', 'flag' => 'ðŸ‡·ðŸ‡¸', 'date_format' => 'd. m. Y.', 'wiki' => 'srwiki', 'creation_date' => '2003-02-16', 'text_direction' => 'ltr'],
    ['code' => 'sv', 'name' => 'Svenska', 'flag' => 'ðŸ‡¸ðŸ‡ª', 'date_format' => 'l, j F Y', 'wiki' => 'svwiki', 'creation_date' => '2001-06-17', 'text_direction' => 'ltr'],
    ['code' => 'tr', 'name' => 'TÃ¼rkÃ§e', 'flag' => 'ðŸ‡¹ðŸ‡·', 'date_format' => 'd F Y', 'wiki' => 'trwiki', 'creation_date' => '2002-12-05', 'text_direction' => 'ltr'],
    ['code' => 'uk', 'name' => 'Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°', 'flag' => 'ðŸ‡ºðŸ‡¦', 'date_format' => 'l, j F Y', 'wiki' => 'ukwiki', 'creation_date' => '2004-05-30', 'text_direction' => 'ltr'],
    ['code' => 'vi', 'name' => 'Tiáº¿ng Viá»‡t', 'flag' => 'ðŸ‡»ðŸ‡³', 'date_format' => 'd thÃ¡ng m Y', 'wiki' => 'viwiki', 'creation_date' => '2002-11-01', 'text_direction' => 'ltr'],
    ['code' => 'zh', 'name' => 'ä¸­æ–‡', 'flag' => 'ðŸ‡¨ðŸ‡³', 'date_format' => 'Yå¹´næœˆjæ—¥ l', 'wiki' => 'zhwiki', 'creation_date' => '2001-05-11', 'text_direction' => 'ltr'],
];

// Set default language
$currentLang = $languages[0];

// Check if a language is selected
if (isset($_GET['lang'])) {
    $requestedLang = $_GET['lang'];
    foreach ($languages as $lang) {
        if ($lang['code'] === $requestedLang) {
            $currentLang = $lang;
            break;
        }
    }
}

// Load translations
$translations = [];
$jsonFile = __DIR__ . '/languages/' . $currentLang['code'] . '.json';
if (file_exists($jsonFile)) {
    $translations = json_decode(file_get_contents($jsonFile), true);
}

// Translation function
function __($key) {
    global $translations;
    return $translations[$key] ?? $key;
}

// Set locale for date formatting
setlocale(LC_TIME, $currentLang['code'] . '_' . strtoupper($currentLang['code']) . '.UTF-8');
